import{d as rt,r as it,o as ot,E as st,S as at,C as lt,A as ut,H as ct,V as re,T as ie,a as ft,c as pt,b as dt,M as B,e as ht,f as mt,g as yt,h as _t,_ as Et}from"./index-CzswY8VL.js";import{g as ce,c as w}from"./_commonjsHelpers-DyVB06ra.js";var vt={exports:{}},fe={exports:{}};function gt(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function St(e,t){for(var i=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=i.length,n=t?Math.ceil((r*3+1>>2)/t)*t:r*3+1>>2,o=new Uint8Array(n),a,s,l=0,c=0,E=0;E<r;E++)if(s=E&3,l|=gt(i.charCodeAt(E))<<18-6*s,s===3||r-E===1){for(a=0;a<3&&c<n;a++,c++)o[c]=l>>>(16>>>a&24)&255;l=0}return o}var Nt={decode:St},At=function(e,t){return new Promise(function(i,r){var n=new XMLHttpRequest;t&&(n.responseType=t),n.open("GET",e),n.onload=function(){n.status===200?i(n.response):r(Error(n.statusText))},n.onerror=function(){r(Error("Network Error"))},n.send()})};(function(e){var t=Nt,i=At;function r(_){return function(h){return typeof h=="string"&&_.test(h)}}function n(_,h){return typeof _=="string"?_+h:typeof _=="function"?_(h):h}function o(_,h,v,g){var F=a(h)?s:l(h)?c:E(h)?y:d(h)?f:p(h)?m:S(h)?I:T(h)?C:Ze(h)?et:null,D=v||{};return F?F(_,h,D):g?Promise.resolve(g):Promise.reject("Source not valid ("+h+")")}o.fetch=i;function a(_){return _ instanceof ArrayBuffer}function s(_,h,v){return new Promise(function(g,F){_.decodeAudioData(h,function(D){g(D)},function(){F("Can't decode audio data ("+h.slice(0,30)+"...)")})})}var l=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function c(_,h,v){var g=n(v.from,h);return o(_,o.fetch(g,"arraybuffer"),v)}function E(_){return _&&typeof _.then=="function"}function y(_,h,v){return h.then(function(g){return o(_,g,v)})}var d=Array.isArray;function f(_,h,v){return Promise.all(h.map(function(g){return o(_,g,v,g)}))}function p(_){return _&&typeof _=="object"}function m(_,h,v){var g={},F=Object.keys(h).map(function(D){if(v.only&&v.only.indexOf(D)===-1)return null;var ne=h[D];return o(_,ne,v,ne).then(function(nt){g[D]=nt})});return Promise.all(F).then(function(){return g})}var S=r(/\.json(\?.*)?$/i);function I(_,h,v){var g=n(v.from,h);return o(_,o.fetch(g,"text").then(JSON.parse),v)}var T=r(/^data:audio/);function C(_,h,v){var g=h.indexOf(",");return o(_,t.decode(h.slice(g+1)).buffer,v)}var Ze=r(/\.js(\?.*)?$/i);function et(_,h,v){var g=n(v.from,h);return o(_,o.fetch(g,"text").then(tt),v)}function tt(_){var h=_.indexOf("MIDI.Soundfont.");if(h<0)throw Error("Invalid MIDI.js Soundfont format");h=_.indexOf("=",h)+2;var v=_.lastIndexOf(",");return JSON.parse(_.slice(h,v)+"}")}e.exports&&(e.exports=o),typeof window<"u"&&(window.loadAudio=o)})(fe);var Pt=fe.exports,pe={exports:{}},bt=wt;function wt(e){var t=e.createGain(),i=t._voltage=Dt(e),r=L(i),n=L(i),o=L(i);return t._startAmount=L(n),t._endAmount=L(o),t._multiplier=L(r),t._multiplier.connect(t),t._startAmount.connect(t),t._endAmount.connect(t),t.value=r.gain,t.startValue=n.gain,t.endValue=o.gain,t.startValue.value=0,t.endValue.value=0,Object.defineProperties(t,Tt),t}var Tt={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,i=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var n=this.sustain;t.cancelScheduledValues(e),i.cancelScheduledValues(e),r.cancelScheduledValues(e),r.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),i.setValueAtTime(1,e),i.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),i.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(n,this._decayFrom,oe(this.decay))}},stop:{value:function(e,t){t&&(e=e-this.release);var i=e+this.release;if(this.release){var r=this._multiplier.gain,n=this._startAmount.gain,o=this._endAmount.gain;r.cancelScheduledValues(e),n.cancelScheduledValues(e),o.cancelScheduledValues(e);var a=oe(this.release);if(this.attack&&e<this._decayFrom){var s=Ot(0,1,this._startedAt,this._decayFrom,e);r.linearRampToValueAtTime(s,e),n.linearRampToValueAtTime(1-s,e),n.setTargetAtTime(0,e,a)}o.setTargetAtTime(1,e,a),r.setTargetAtTime(0,e,a)}return this._voltage.stop(i),i}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},Mt=new Float32Array([1,1]);function Dt(e){var t=e.createBufferSource(),i=e.createBuffer(1,2,e.sampleRate);return i.getChannelData(0).set(Mt),t.buffer=i,t.loop=!0,t}function L(e){var t=e.context.createGain();return e.connect(t),t}function oe(e){return Math.log(e+1)/Math.log(100)}function Ot(e,t,i,r,n){var o=t-e,a=r-i,s=n-i,l=s/a,c=e+l*o;return c<=e&&(c=e),c>=t&&(c=t),c}var Ft=bt,Lt={},Rt={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function Ct(e,t,i){var r=!1,n=0,o={},a=e.createGain();a.gain.value=1;var s=Object.assign({},Rt,i),l={context:e,out:a,opts:s};return t instanceof AudioBuffer?l.buffer=t:l.buffers=t,l.start=function(y,d,f){if(l.buffer&&y!==null)return l.start(null,y,d);var p=y?l.buffers[y]:l.buffer;if(p){if(!r){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+y+" not found.");return}var m=f||Lt;d=Math.max(e.currentTime,d||0),l.emit("start",d,y,m);var S=E(y,p,m);return S.id=c(y,S),S.env.start(d),S.source.start(d),l.emit("started",d,S.id,S),m.duration&&S.stop(d+m.duration),S},l.play=function(y,d,f){return l.start(y,d,f)},l.stop=function(y,d){var f;return d=d||Object.keys(o),d.map(function(p){return f=o[p],f?(f.stop(y),f.id):null})},l.connect=function(y){return r=!0,a.connect(y),l},l.emit=function(y,d,f,p){l.onevent&&l.onevent(y,d,f,p);var m=l["on"+y];m&&m(d,f,p)},l;function c(y,d){return d.id=n++,o[d.id]=d,d.source.onended=function(){var f=e.currentTime;d.source.disconnect(),d.env.disconnect(),d.disconnect(),l.emit("ended",f,d.id,d)},d.id}function E(y,d,f){var p=e.createGain();return p.gain.value=0,p.connect(a),p.env=jt(e,f,s),p.env.connect(p.gain),p.source=e.createBufferSource(),p.source.buffer=d,p.source.connect(p),p.source.loop=f.loop||s.loop,p.source.playbackRate.value=It(f.cents||s.cents),p.source.loopStart=f.loopStart||s.loopStart,p.source.loopEnd=f.loopEnd||s.loopEnd,p.stop=function(m){var S=m||e.currentTime;l.emit("stop",S,y);var I=p.env.stop(S);p.source.stop(I)},p}}function se(e){return typeof e=="number"}var Vt=["attack","decay","sustain","release"];function jt(e,t,i){var r=Ft(e),n=t.adsr||i.adsr;return Vt.forEach(function(o,a){n?r[o]=n[a]:r[o]=t[o]||i[o]}),r.value.value=se(t.gain)?t.gain:se(i.gain)?i.gain:1,r}function It(e){return e?Math.pow(2,e/1200):1}var xt=Ct,kt=function(e){return e.on=function(t,i){if(arguments.length===1&&typeof t=="function")return e.on("event",t);var r="on"+t,n=e[r];return e[r]=n?Bt(n,i):i,e},e};function Bt(e,t){return function(i,r,n,o){e(i,r,n,o),t(i,r,n,o)}}var de=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function Ut(){return de}var $t=[0,2,4,5,7,9,11];function he(e,t,i){if(typeof e!="string")return null;var r=de.exec(e);if(!r||!t&&r[4])return null;var n={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};return n.pc=n.letter+n.acc,n.step=(n.letter.charCodeAt(0)+3)%7,n.alt=n.acc[0]==="b"?-n.acc.length:n.acc.length,n.chroma=$t[n.step]+n.alt,r[3]&&(n.oct=+r[3],n.midi=n.chroma+12*(n.oct+1),n.freq=me(n.midi,i)),t&&(n.tonicOf=r[4]),n}function me(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var ye={parse:he,regex:Ut,midiToFreq:me},Wt=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];Wt.forEach(function(e){ye[e]=function(t){var i=he(t);return i&&typeof i[e]<"u"?i[e]:null}});var Xt=ye,Kt=Xt,Jt=function(e){return e!==null&&e!==[]&&e>=0&&e<129},Gt=function(e){return Jt(e)?+e:Kt.midi(e)},qt=function(e){if(e.buffers){var t=e.opts.map,i=typeof t=="function"?t:Gt,r=function(o){return o?i(o)||o:null};e.buffers=zt(e.buffers,r);var n=e.start;e.start=function(o,a,s){var l=r(o),c=l%1;return c&&(l=Math.floor(l),s=Object.assign(s||{},{cents:Math.floor(c*100)})),n(l,a,s)}}return e};function zt(e,t){return Object.keys(e).reduce(function(i,r){return i[t(r)]=e[r],i},{})}var Ht=Array.isArray,Yt=function(e){return e&&typeof e=="object"},Qt={},Zt=function(e){return e.schedule=function(t,i){var r=e.context.currentTime,n=t<r?r:t;e.emit("schedule",n,i);var o,a,s,l;return i.map(function(c){if(c)Ht(c)?(o=c[0],a=c[1]):(o=c.time,a=c);else return null;return Yt(a)?(s=a.name||a.key||a.note||a.midi||null,l=a):(s=a,l=Qt),e.start(s,n+(o||0),l)})},e};function N(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _e={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,o){function a(c,E){if(!n[c]){if(!r[c]){var y=typeof N=="function"&&N;if(!E&&y)return y(c,!0);if(s)return s(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[c]={exports:{}};r[c][0].call(f.exports,function(p){var m=r[c][1][p];return a(m||p)},f,f.exports,i,r,n,o)}return n[c].exports}for(var s=typeof N=="function"&&N,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(o){function a(s){if(this._event=s,this._data=s.data,this.receivedTime=s.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=s.data[0]&240,this.channel=s.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=s.data[1]&127,this.velocity=s.data[2]&127;break;case 144:this.messageType="noteon",this.key=s.data[1]&127,this.velocity=s.data[2]&127;break;case 160:this.messageType="keypressure",this.key=s.data[1]&127,this.pressure=s.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=s.data[1]&127,this.controllerValue=s.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=s.data[1];break;case 208:this.messageType="channelpressure",this.pressure=s.data[1]&127;break;case 224:this.messageType="pitchbendchange";var l=s.data[2]&127,c=s.data[1]&127;this.pitchBend=(l<<8)+c;break}}return new a(o)},r.exports=n.default},{}]},{},[1])(1)})})(_e);var en=_e.exports,tn=en,nn=function(e){return e.listenToMidi=function(t,i){var r={},n=i||{},o=n.gain||function(a){return a/127};return t.onmidimessage=function(a){var s=a.messageType?a:tn(a);if(s.messageType==="noteon"&&s.velocity===0&&(s.messageType="noteoff"),!(n.channel&&s.channel!==n.channel))switch(s.messageType){case"noteon":r[s.key]=e.play(s.key,0,{gain:o(s.velocity)});break;case"noteoff":r[s.key]&&(r[s.key].stop(),delete r[s.key]);break}},e},e};(function(e){var t=xt,i=kt,r=qt,n=Zt,o=nn;function a(s,l,c){return o(n(r(i(t(s,l,c)))))}e.exports&&(e.exports=a),typeof window<"u"&&(window.SamplePlayer=a)})(pe);var rn=pe.exports;function ae(e,t){return Array(t+1).join(e)}function q(e){return typeof e=="number"}function on(e){return typeof e=="string"}function sn(e){return typeof e<"u"}function Ee(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var ve=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function an(){return ve}var ln=[0,2,4,5,7,9,11];function M(e,t,i){if(typeof e!="string")return null;var r=ve.exec(e);if(!r||!t&&r[4])return null;var n={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};n.pc=n.letter+n.acc,n.step=(n.letter.charCodeAt(0)+3)%7,n.alt=n.acc[0]==="b"?-n.acc.length:n.acc.length;var o=ln[n.step]+n.alt;return n.chroma=o<0?12+o:o%12,r[3]&&(n.oct=+r[3],n.midi=o+12*(n.oct+1),n.freq=Ee(n.midi,i)),t&&(n.tonicOf=r[4]),n}var un="CDEFGAB";function cn(e){return q(e)?e<0?ae("b",-e):ae("#",e):""}function fn(e){return q(e)?""+e:""}function ge(e,t,i){return e===null||typeof e>"u"?null:e.step?ge(e.step,e.alt,e.oct):e<0||e>6?null:un.charAt(e)+cn(t)+fn(i)}function Se(e){if((q(e)||on(e))&&e>=0&&e<128)return+e;var t=M(e);return t&&sn(t.midi)?t.midi:null}function pn(e,t){var i=Se(e);return i===null?null:Ee(i,t)}function dn(e){return(M(e)||{}).letter}function hn(e){return(M(e)||{}).acc}function mn(e){return(M(e)||{}).pc}function yn(e){return(M(e)||{}).step}function _n(e){return(M(e)||{}).alt}function En(e){return(M(e)||{}).chroma}function vn(e){return(M(e)||{}).oct}const gn=Object.freeze(Object.defineProperty({__proto__:null,acc:hn,alt:_n,build:ge,chroma:En,freq:pn,letter:dn,midi:Se,oct:vn,parse:M,pc:mn,regex:an,step:yn},Symbol.toStringTag,{value:"Module"})),Sn=ce(gn);var U,le;function Nn(){if(le)return U;le=1;var e=Sn;function t(n,o){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof t))return new t(n);this.nameToUrl=o||t.nameToUrl,this.ctx=n,this.instruments={},this.promises=[]}t.prototype.onready=function(n){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(n)},t.prototype.instrument=function(n,o){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var a=this.ctx;if(n=n||"default",n in this.instruments)return this.instruments[n];var s={name:n,play:r(a,o)};if(this.instruments[n]=s,n!=="default"){var l=t.instrument(a,n,o).then(function(c){return s.play=c.play,s});this.promises.push(l),s.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),l.then(c)}}else s.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),c()};return s};function i(n,o,a){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),t.instrument(n,o,a).then(function(s){return s.buffers})}t.loadBuffers=i;function r(n,o){return o=o||{},function(a,s,l,c){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var E=a>0&&a<129?+a:e.midi(a),y=E?e.midiToFreq(E,440):null;if(y){l=l||.2,c=c||{};var d=c.destination||o.destination||n.destination,f=c.vcoType||o.vcoType||"sine",p=c.gain||o.gain||.4,m=n.createOscillator();m.type=f,m.frequency.value=y;var S=n.createGain();return S.gain.value=p,m.connect(S),S.connect(d),m.start(s),l>0&&m.stop(s+l),m}}}return t.noteToMidi=e.midi,U=t,U}(function(e){var t=Pt,i=rn;function r(s,l,c){if(arguments.length===1)return function(p,m){return r(s,p,m)};var E=c||{},y=E.isSoundfontURL||n,d=E.nameToUrl||o,f=y(l)?l:d(l,E.soundfont,E.format);return t(s,f,{only:E.only||E.notes}).then(function(p){var m=i(s,p,E).connect(E.destination?E.destination:s.destination);return m.url=f,m.name=l,m})}function n(s){return/\.js(\?.*)?$/i.test(s)}function o(s,l,c){return c=c==="ogg"?c:"mp3",l=l==="FluidR3_GM"?l:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+l+"/"+s+"-"+c+".js"}var a=Nn();a.instrument=r,a.nameToUrl=o,e.exports&&(e.exports=a),typeof window<"u"&&(window.Soundfont=a)})(vt);var A={};const An={},Pn=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"})),z=ce(Pn);var u={};Object.defineProperty(u,"__esModule",{value:!0});u.isNodeWithName=u.isNormalClassPropertyDefinitionWithAnonymousExpressionAssigned=u.isNormalObjectPropertyWithAnonymousExpressionAssigned=u.isNormalVariableDeclaratorWithAnonymousExpressionAssigned=u.isNormalAssignmentPatternWithAnonymousExpressionAssigned=u.isNormalVariableDeclarator=u.isNormalObjectProperty=u.isNormalMethodDefinition=u.isNormalClassPropertyDefinition=u.isNormalAssignmentPattern=u.isNormalAnonymousExpression=u.isFunctionExpressionWithName=u.isClassExpressionWithName=u.isStringLiteral=u.isPropertyNameNonComputed=u.isNumberLiteral=u.isFunctionDeclarationWithName=u.isClassPropertyNameNonComputed=u.isClassDeclarationWithName=u.isVariableDeclarator=u.isTSTypeAliasDeclaration=u.isTSQualifiedName=u.isTSModuleDeclaration=u.isTSInterfaceDeclaration=u.isTSEnumDeclaration=u.isPropertyDefinition=u.isProperty=u.isPrivateIdentifier=u.isObjectExpression=u.isMethodDefinition=u.isLiteral=u.isIdentifier=u.isFunctionExpression=u.isFunctionDeclaration=u.isExpression=u.isExportDefaultDeclaration=u.isClassExpression=u.isClassDeclaration=u.isAssignmentPattern=u.isArrowFunctionExpression=u.isArrayExpression=void 0;function bn(e){return e.type==="ArrayExpression"}u.isArrayExpression=bn;function Ne(e){return e.type==="ArrowFunctionExpression"}u.isArrowFunctionExpression=Ne;function Ae(e){return e.type==="AssignmentPattern"}u.isAssignmentPattern=Ae;function Pe(e){return e.type==="ClassDeclaration"}u.isClassDeclaration=Pe;function H(e){return e.type==="ClassExpression"}u.isClassExpression=H;function wn(e){return e.type==="ExportDefaultDeclaration"}u.isExportDefaultDeclaration=wn;function Tn(e){return e.type.includes("Expression")}u.isExpression=Tn;function be(e){return e.type==="FunctionDeclaration"}u.isFunctionDeclaration=be;function Y(e){return e.type==="FunctionExpression"}u.isFunctionExpression=Y;function O(e){return e.type==="Identifier"}u.isIdentifier=O;function Q(e){return e.type==="Literal"}u.isLiteral=Q;function we(e){return e.type==="MethodDefinition"}u.isMethodDefinition=we;function Te(e){return e.type==="ObjectExpression"}u.isObjectExpression=Te;function V(e){return e.type==="PrivateIdentifier"}u.isPrivateIdentifier=V;function Me(e){return e.type==="Property"}u.isProperty=Me;function De(e){return e.type==="PropertyDefinition"}u.isPropertyDefinition=De;function Oe(e){return e.type==="TSEnumDeclaration"}u.isTSEnumDeclaration=Oe;function Fe(e){return e.type==="TSInterfaceDeclaration"}u.isTSInterfaceDeclaration=Fe;function Mn(e){return e.type==="TSModuleDeclaration"}u.isTSModuleDeclaration=Mn;function Dn(e){return e.type==="TSQualifiedName"}u.isTSQualifiedName=Dn;function Le(e){return e.type==="TSTypeAliasDeclaration"}u.isTSTypeAliasDeclaration=Le;function Re(e){return e.type==="VariableDeclarator"}u.isVariableDeclarator=Re;function Ce(e){return Pe(e)&&e.id!==null}u.isClassDeclarationWithName=Ce;function On(e){return V(e)||Ie(e)}u.isClassPropertyNameNonComputed=On;function Ve(e){return be(e)&&e.id!==null}u.isFunctionDeclarationWithName=Ve;function je(e){return Q(e)&&typeof e.value=="number"}u.isNumberLiteral=je;function Ie(e){return O(e)||je(e)||xe(e)}u.isPropertyNameNonComputed=Ie;function xe(e){return Q(e)&&typeof e.value=="string"}u.isStringLiteral=xe;function ke(e){return H(e)&&e.id!==null}u.isClassExpressionWithName=ke;function Be(e){return Y(e)&&e.id!==null}u.isFunctionExpressionWithName=Be;function j(e){return[Ne,H,Y,Te].some(i=>i(e))}u.isNormalAnonymousExpression=j;function Ue(e){return Ae(e)&&O(e.left)}u.isNormalAssignmentPattern=Ue;function $e(e){return De(e)&&(O(e.key)||V(e.key))&&e.value!==null}u.isNormalClassPropertyDefinition=$e;function We(e){return we(e)&&(O(e.key)||V(e.key))}u.isNormalMethodDefinition=We;function Xe(e){return Me(e)&&(O(e.key)||V(e.key))}u.isNormalObjectProperty=Xe;function Ke(e){return Re(e)&&O(e.id)&&e.init!==null}u.isNormalVariableDeclarator=Ke;function Je(e){return Ue(e)&&j(e.right)}u.isNormalAssignmentPatternWithAnonymousExpressionAssigned=Je;function Ge(e){return Ke(e)&&j(e.init)}u.isNormalVariableDeclaratorWithAnonymousExpressionAssigned=Ge;function qe(e){return Xe(e)&&j(e.value)}u.isNormalObjectPropertyWithAnonymousExpressionAssigned=qe;function ze(e){return $e(e)&&j(e.value)}u.isNormalClassPropertyDefinitionWithAnonymousExpressionAssigned=ze;function Fn(e){return Ce(e)||Ve(e)||ke(e)||Be(e)||Ge(e)||qe(e)||ze(e)||Je(e)||We(e)||Oe(e)||Fe(e)||Le(e)}u.isNodeWithName=Fn;var x={exports:{}};x.exports;(function(e,t){var i=w&&w.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.isModuleResolutionError=t.ESLINT_MAJOR_VERSION=t.Naming=t.ModuleResolver=t.configArrayFactory=t.eslintFolder=t.eslintPackageVersion=void 0;const r=i(z),n=f=>typeof f=="object"&&!!f&&"code"in f&&f.code==="MODULE_NOT_FOUND";t.isModuleResolutionError=n;let o,a,s,l,c;t.eslintFolder=c;for(let f=e;;){if(o)try{const p=r.default.dirname(require.resolve("eslint/package.json",{paths:[f.path]}));if(f.filename.startsWith(p+r.default.sep)){t.eslintFolder=c=p;break}}catch(p){if(!n(p))throw p}else if(f.filename.endsWith("eslintrc.cjs"))try{const p=r.default.dirname(require.resolve("@eslint/eslintrc/package.json",{paths:[f.path]})),m=r.default.join(p,"dist/eslintrc.cjs");m===f.filename&&(o=m)}catch(p){if(!n(p))throw p}if(!f.parent)break;f=f.parent}if(!c)for(let f=e;;){if(a){if(f.filename.endsWith("cli-engine.js"))try{const p=r.default.dirname(require.resolve("eslint/package.json",{paths:[f.path]}));if(r.default.join(p,"lib/cli-engine/cli-engine.js")===f.filename){t.eslintFolder=c=p;break}}catch(p){if(!n(p))throw p}}else try{const p=r.default.dirname(require.resolve("@eslint/eslintrc/package.json",{paths:[f.path]})),m=r.default.join(p,"/lib/config-array-factory.js");m===f.filename&&(a=m,s=`${p}/lib/shared/relative-module-resolver`,l=`${p}/lib/shared/naming`)}catch(p){if(!n(p))throw p}if(!f.parent)break;f=f.parent}if(!c)for(let f=e;;){if(/[\\/]eslint[\\/]lib[\\/]cli-engine[\\/]config-array-factory\.js$/i.test(f.filename)){t.eslintFolder=c=r.default.join(r.default.dirname(f.filename),"../.."),a=`${c}/lib/cli-engine/config-array-factory`,s=`${c}/lib/shared/relative-module-resolver`;let p;try{p=r.default.dirname(require.resolve("@eslint/eslintrc/package.json",{paths:[f.path]}))}catch(m){if(!n(m))throw m}l=`${p??c}/lib/shared/naming`;break}if(!f.parent)throw new Error(`Failed to patch ESLint because the calling module was not recognized.
If you are using a newer ESLint version that may be unsupported, please create a GitHub issue:
https://github.com/microsoft/rushstack/issues`);f=f.parent}const E=`${c}/package.json`,y=N(E);t.eslintPackageVersion=y.version;const d=parseInt(t.eslintPackageVersion,10);if(t.ESLINT_MAJOR_VERSION=d,isNaN(d))throw new Error(`Unable to parse ESLint version "${t.eslintPackageVersion}" in file "${E}"`);if(!(d>=6&&d<=9))throw new Error(`The ESLint patch script has only been tested with ESLint version 6.x, 7.x, 8.x, and 9.x. (Your version: ${t.eslintPackageVersion})
Consider reporting a GitHub issue:
https://github.com/microsoft/rushstack/issues`);d>=8?t.configArrayFactory=N(o).Legacy.ConfigArrayFactory:t.configArrayFactory=N(a).ConfigArrayFactory,d>=8?(t.ModuleResolver=N(o).Legacy.ModuleResolver,t.Naming=N(o).Legacy.naming):(t.ModuleResolver=N(s),t.Naming=N(l))})(x,x.exports);var Ln=x.exports,Z={};(function(e){var t={},i;Object.defineProperty(e,"__esModule",{value:!0}),e.BULK_SUPPRESSIONS_CLI_ESLINT_PACKAGE_NAME=e.ESLINT_PACKAGE_NAME_ENV_VAR_NAME=e.VSCODE_PID_ENV_VAR_NAME=e.ESLINT_BULK_FORCE_REGENERATE_PATCH_ENV_VAR_NAME=e.ESLINT_BULK_DETECT_ENV_VAR_NAME=e.ESLINT_BULK_PRUNE_ENV_VAR_NAME=e.ESLINT_BULK_ENABLE_ENV_VAR_NAME=e.ESLINT_BULK_SUPPRESS_ENV_VAR_NAME=e.ESLINT_BULK_PATCH_PATH_ENV_VAR_NAME=void 0,e.ESLINT_BULK_PATCH_PATH_ENV_VAR_NAME="RUSHSTACK_ESLINT_BULK_PATCH_PATH",e.ESLINT_BULK_SUPPRESS_ENV_VAR_NAME="RUSHSTACK_ESLINT_BULK_SUPPRESS",e.ESLINT_BULK_ENABLE_ENV_VAR_NAME="ESLINT_BULK_ENABLE",e.ESLINT_BULK_PRUNE_ENV_VAR_NAME="ESLINT_BULK_PRUNE",e.ESLINT_BULK_DETECT_ENV_VAR_NAME="_RUSHSTACK_ESLINT_BULK_DETECT",e.ESLINT_BULK_FORCE_REGENERATE_PATCH_ENV_VAR_NAME="RUSHSTACK_ESLINT_BULK_FORCE_REGENERATE_PATCH",e.VSCODE_PID_ENV_VAR_NAME="VSCODE_PID",e.ESLINT_PACKAGE_NAME_ENV_VAR_NAME="_RUSHSTACK_ESLINT_PACKAGE_NAME",e.BULK_SUPPRESSIONS_CLI_ESLINT_PACKAGE_NAME=(i=t[e.ESLINT_PACKAGE_NAME_ENV_VAR_NAME])!==null&&i!==void 0?i:"eslint"})(Z);var b={},Rn={},Cn=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});b.serializeSuppression=b.deleteBulkSuppressionsFileInEslintrcFolder=b.writeSuppressionsJsonToFile=b.getAllBulkSuppressionsConfigsByEslintrcFolderPath=b.getSuppressionsConfigForEslintrcFolderPath=void 0;const ee=Cn(z),Vn=Z,jn=Rn[Vn.VSCODE_PID_ENV_VAR_NAME]!==void 0,In=10*1e3,te=".eslint-bulk-suppressions.json";function He(e){if((e==null?void 0:e.code)!=="ENOENT")throw e}const k=new Map;function xn(e){const t=k.get(e);let i,r;if(t?(i=jn&&t.readTime<Date.now()-In,r=t.suppressionsConfig):i=!0,i){const n=`${e}/${te}`;let o;try{o=ee.default.readFileSync(n).toString()}catch(a){He(a)}if(!o)r={serializedSuppressions:new Set,jsonObject:{suppressions:[]},newSerializedSuppressions:new Set,newJsonObject:{suppressions:[]}};else{const a=JSON.parse(o);Wn(a);const s=new Set;for(const l of a.suppressions)s.add(Qe(l));r={serializedSuppressions:s,jsonObject:a,newSerializedSuppressions:new Set,newJsonObject:{suppressions:[]}}}k.set(e,{readTime:Date.now(),suppressionsConfig:r})}return r}b.getSuppressionsConfigForEslintrcFolderPath=xn;function kn(){const e=[];for(const[t,{suppressionsConfig:i}]of k)e.push([t,i]);return e}b.getAllBulkSuppressionsConfigsByEslintrcFolderPath=kn;function Bn(e,t){k.set(e,{readTime:Date.now(),suppressionsConfig:t});const i=`${e}/${te}`;t.jsonObject.suppressions.length===0?Ye(i):(t.jsonObject.suppressions.sort($n),ee.default.writeFileSync(i,JSON.stringify(t.jsonObject,void 0,2)))}b.writeSuppressionsJsonToFile=Bn;function Un(e){const t=`${e}/${te}`;Ye(t)}b.deleteBulkSuppressionsFileInEslintrcFolder=Un;function Ye(e){try{ee.default.unlinkSync(e)}catch(t){He(t)}}function Qe({file:e,scopeId:t,rule:i}){return`${e}|${t}|${i}`}b.serializeSuppression=Qe;function $n(e,t){return e.file<t.file?-1:e.file>t.file?1:e.scopeId<t.scopeId?-1:e.scopeId>t.scopeId?1:e.rule<t.rule?-1:e.rule>t.rule?1:0}function Wn(e){if(typeof e!="object")throw new Error(`Invalid JSON object: ${JSON.stringify(e,null,2)}`);if(!e)throw new Error("JSON object is null.");const t=new Set(["suppressions"]);for(const n of Object.getOwnPropertyNames(e))if(!t.has(n))throw new Error(`Unexpected property name: ${n}`);const{suppressions:i}=e;if(!i)throw new Error('Missing "suppressions" property.');if(!Array.isArray(i))throw new Error('"suppressions" property is not an array.');const r=new Set(["file","scopeId","rule"]);for(const n of i){if(typeof n!="object")throw new Error(`Invalid suppression: ${JSON.stringify(n,null,2)}`);if(!n)throw new Error(`Suppression is null: ${JSON.stringify(n,null,2)}`);for(const o of Object.getOwnPropertyNames(n))if(!r.has(o))throw new Error(`Unexpected property name: ${o}`);for(const o of r)if(n.hasOwnProperty(o)){if(typeof n[o]!="string")throw new Error(`"${o}" property in suppression is not a string: ${JSON.stringify(n,null,2)}`)}else throw new Error(`Missing "${o}" property in suppression: ${JSON.stringify(n,null,2)}`)}return!0}var X={},Xn=w&&w.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Kn=w&&w.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jn=w&&w.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Xn(t,e,i);return Kn(t,e),t},Gn=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(A,"__esModule",{value:!0});A.extendVerifyFunction=A.patchClass=A.requireFromPathToLinterJS=A.write=A.prune=A.shouldBulkSuppress=void 0;const qn=Gn(z),P=Jn(u),ue=Ln,K=Z,R=b,zn=[".eslintrc.js",".eslintrc.cjs"],J=Symbol("suppression"),G=X[K.ESLINT_BULK_SUPPRESS_ENV_VAR_NAME],Hn=G==="*",$=G?new Set(G.split(",")):void 0;function Yn(e){if(P.isClassDeclarationWithName(e))return e.id.name;if(P.isFunctionDeclarationWithName(e))return e.id.name;if(P.isClassExpressionWithName(e))return e.id.name;if(P.isFunctionExpressionWithName(e))return e.id.name;if(P.isNormalVariableDeclaratorWithAnonymousExpressionAssigned(e))return e.id.name;if(P.isNormalObjectPropertyWithAnonymousExpressionAssigned(e))return e.key.name;if(P.isNormalClassPropertyDefinitionWithAnonymousExpressionAssigned(e))return e.key.name;if(P.isNormalAssignmentPatternWithAnonymousExpressionAssigned(e))return e.left.name;if(P.isNormalMethodDefinition(e))return e.key.name;if(P.isTSEnumDeclaration(e))return e.id.name;if(P.isTSInterfaceDeclaration(e))return e.id.name;if(P.isTSTypeAliasDeclaration(e))return e.id.name}function Qn(e){const t=[];for(let i=e;i;i=i.parent){const r=Yn(i);r!==void 0&&t.unshift(r)}return t.length===0?".":"."+t.join(".")}const W=new Map;function Zn(e){const t=W.get(e);if(t)return t;const i=e.substring(0,e.lastIndexOf("/")),r=[e];let n;e:for(let o=i;o;o=o.substring(0,o.lastIndexOf("/"))){const a=W.get(o);if(a)return a;r.push(o);for(const s of zn)if(qn.default.existsSync(`${o}/${s}`)){n=o;break e}}if(n){for(const o of r)W.set(o,n);return n}else throw new Error(`Cannot locate an ESLint configuration file for ${e}`)}function er(e){if(X[K.ESLINT_BULK_ENABLE_ENV_VAR_NAME]==="false")return!1;const{filename:t,currentNode:i,ruleId:r,problem:n}=e,o=t.replace(/\\/g,"/"),a=Zn(o),s=o.substring(a.length+1),l=Qn(i),c={file:s,scopeId:l,rule:r},E=(0,R.getSuppressionsConfigForEslintrcFolderPath)(a),y=(0,R.serializeSuppression)(c),d=E.serializedSuppressions.has(y);return(d||Hn||$!=null&&$.has(c.rule))&&(n[J]={suppression:c,serializedSuppression:y,config:E}),X[K.ESLINT_BULK_PRUNE_ENV_VAR_NAME]!=="1"&&d}A.shouldBulkSuppress=er;function tr(){for(const[e,t]of(0,R.getAllBulkSuppressionsConfigsByEslintrcFolderPath)())if(t){const{newSerializedSuppressions:i,newJsonObject:r}=t,n={serializedSuppressions:i,jsonObject:r,newSerializedSuppressions:new Set,newJsonObject:{suppressions:[]}};(0,R.writeSuppressionsJsonToFile)(e,n)}}A.prune=tr;function nr(){for(const[e,t]of(0,R.getAllBulkSuppressionsConfigsByEslintrcFolderPath)())t&&(0,R.writeSuppressionsJsonToFile)(e,t)}A.write=nr;function rr(e){if(!ue.eslintFolder)return N(e);const t=`${ue.eslintFolder}/lib/linter`,i=require.resolve(e,{paths:[t]});return N(i)}A.requireFromPathToLinterJS=rr;function ir(e,t){const i=Object.getOwnPropertyNames(t.prototype);for(const r of i)e.prototype[r]=t.prototype[r];for(const[r,n]of Object.entries(Object.getOwnPropertyDescriptors(t.prototype)))(n.get||n.set)&&Object.defineProperty(e.prototype,r,n)}A.patchClass=ir;function or(e){return function(...t){const i=e.apply(this,t);if(i){for(const r of i)if(r[J]){const{serializedSuppression:n,suppression:o,config:{newSerializedSuppressions:a,jsonObject:{suppressions:s},newJsonObject:{suppressions:l}}}=r[J];a.has(n)||(a.add(n),l.push(o),s.push(o))}}return i}}A.extendVerifyFunction=or;const sr=rt({__name:"PianoView",setup(e){const t=it();ot(async()=>{const n=new st(t.value,!0),o=await r(n);n.runRenderLoop(()=>{o.render()}),window.addEventListener("resize",()=>{n.resize()})});const i=(n,o,a)=>{if(a.type==="white"){const s=B.CreateBox("whiteKeyBottom",{width:a.bottomWidth,height:1.5,depth:4.5},n),l=B.CreateBox("whiteKeyTop",{width:a.topWidth,height:1.5,depth:5},n);l.position.z=4.75,l.position.x+=a.topPositionX;const c=ht.MergeMeshes([s,l],!0,!1,null,!1,!1);return c.position.x=a.referencePositionX+a.wholePositionX,c.name=a.note+a.register,c.parent=o,c}else if(a.type==="black"){const s=new mt("black");s.diffuseColor=new yt(0,0,0);const l=B.CreateBox(a.note+a.register,{width:1.4,height:2,depth:5},n);return l.position.z+=4.75,l.position.y+=.25,l.position.x=a.referencePositionX+a.wholePositionX,l.material=s,l.parent=o,l}},r=async n=>{const o=new at(n);o.clearColor=new lt(0,0,0);const a=3*Math.PI/2,s=Math.PI/50,l=220,c=new re(0,0,0);new ut("Camera",a,s,l,c).attachControl(t.value,!0);const y=new ct("light",new re(1,1,0));y.intensity=.6;const d=[{type:"white",note:"C",topWidth:1.4,bottomWidth:2.3,topPositionX:-.45,wholePositionX:-14.4},{type:"black",note:"C#",wholePositionX:-13.45},{type:"white",note:"D",topWidth:1.4,bottomWidth:2.4,topPositionX:0,wholePositionX:-12},{type:"black",note:"D#",wholePositionX:-10.6},{type:"white",note:"E",topWidth:1.4,bottomWidth:2.3,topPositionX:.45,wholePositionX:-9.6},{type:"white",note:"F",topWidth:1.3,bottomWidth:2.4,topPositionX:-.55,wholePositionX:-7.2},{type:"black",note:"F#",wholePositionX:-6.35},{type:"white",note:"G",topWidth:1.3,bottomWidth:2.3,topPositionX:-.2,wholePositionX:-4.8},{type:"black",note:"G#",wholePositionX:-3.6},{type:"white",note:"A",topWidth:1.3,bottomWidth:2.3,topPositionX:.2,wholePositionX:-2.4},{type:"black",note:"A#",wholePositionX:-.85},{type:"white",note:"B",topWidth:1.3,bottomWidth:2.4,topPositionX:.55,wholePositionX:0}],f=new ie("keyboard");let p=-2.4*14;for(let T=1;T<=7;T++)d.forEach(C=>{i(o,f,Object.assign({register:T,referencePositionX:p},C))}),p+=2.4*7;i(o,f,{type:"white",note:"A",topWidth:1.9,bottomWidth:2.3,topPositionX:-.2,wholePositionX:-2.4,register:0,referencePositionX:-2.4*21}),d.slice(10,12).forEach(T=>{i(o,f,Object.assign({register:0,referencePositionX:-2.4*21},T))}),i(o,f,{type:"white",note:"C",topWidth:2.3,bottomWidth:2.3,topPositionX:0,wholePositionX:-2.4*6,register:8,referencePositionX:84});const m=new ie("piano");f.parent=m;const S=T=>{const C=T[0];C.parent=m};return ft.ImportMesh("frame","https://raw.githubusercontent.com/MicrosoftDocs/mixed-reality/docs/mixed-reality-docs/mr-dev-docs/develop/javascript/tutorials/babylonjs-webxr-piano/files/","pianoFrame.babylon",o,S),f.position.y+=80,await o.createDefaultXRExperienceAsync(),console.log("XR Experience created"),o};return(n,o)=>(_t(),pt("div",null,[dt("canvas",{ref_key:"canvas",ref:t,id:"renderCanvas"},null,512)]))}}),ur=Et(sr,[["__scopeId","data-v-274b7545"]]);export{ur as default};
